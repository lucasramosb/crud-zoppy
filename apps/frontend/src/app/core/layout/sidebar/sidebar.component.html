<div class="fixed left-0 top-0 h-full w-64 bg-gray-800 text-white p-4 shadow-lg z-20 transition-transform duration-300 ease-in-out transform sm:translate-x-0 -translate-x-full"
    [ngClass]="{ 'translate-x-0': menuOpen }">

    <div class="mb-8 text-center">
        <a routerLink="/" class="text-2xl font-bold text-white hover:text-blue-300 transition-colors">
            Meu App
        </a>
    </div>

    <nav>
        <ul>
            <li class="mb-3">
                <a routerLink="/clients" routerLinkActive="bg-blue-600 text-white"
                    [routerLinkActiveOptions]="{exact: true}" (click)="closeMenuOnMobile()"
                    class="block py-2.5 px-4 rounded-lg hover:bg-blue-500 hover:text-white transition-all duration-200 ease-in-out">
                    <i class="fas fa-users mr-2"></i>
                    Clientes
                </a>
            </li>
            <li class="mb-3">
                <a routerLink="/pedidos" routerLinkActive="bg-blue-600 text-white" (click)="closeMenuOnMobile()"
                    class="block py-2.5 px-4 rounded-lg hover:bg-blue-500 hover:text-white transition-all duration-200 ease-in-out">
                    <i class="fas fa-box-open mr-2"></i>
                    Pedidos
                </a>
            </li>
        </ul>
    </nav>

    <!-- Botão de fechar (X) DENTRO da sidebar, só visível em mobile quando a sidebar está aberta -->
    <button (click)="toggleMenu()" class="sm:hidden absolute top-4 right-4 text-white z-30">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
    </button>
</div>

<!-- Overlay para fechar o menu ao clicar fora -->
<div *ngIf="menuOpen" (click)="toggleMenu()" class="fixed inset-0 bg-black opacity-50 z-10 sm:hidden"></div>

<!-- Botão de abrir (Hamburger) FORA da sidebar, sempre visível em mobile -->
<button (click)="toggleMenu()" class="sm:hidden fixed top-4 left-4 z-30 p-2 bg-gray-800 text-white rounded-md">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
</button>